<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Betrouwbaarheid - Veerenstael Tooling</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="icon" href="favicon.png" type="image/png"/>
</head>
<body>
  <div class="dashboard-bg">
    <header class="logo-header">
      <img src="logo-veerenstael-wit.png" alt="Veerenstael Logo" class="veerenstael-logo"/>
      <div class="subtitle-title">Inzicht in Betrouwbaarheids- en Onderhoudsparameters</div>
    </header>

    <div class="main-card">
      <div class="header center-header">
        <p>Krijg inzicht in alle verschillende termen omtrent betrouwbaarheid en onderhoudbaarheid van uw assets met deze Veerenstael-Tool. Bereken essentiÃ«le parameters zoals MTBF, MTTF, MTTR en beschikbaarheid voor zowel repareerbare systemen als niet-repareerbare componenten. Voer uw storings- en onderhoudsgegevens in, vergelijk scenario's en exporteer uw resultaten als overzichtelijk PDF-rapport.</p>
      </div>

      <!-- KPI Definities -->
      <div class="definitions-section">
        <h3 class="definitions-title">ðŸ“š Definities - Klik voor uitleg</h3>
        <div class="definitions-grid">
          <button type="button" class="def-btn" data-kpi="mttf">MTTF</button>
          <button type="button" class="def-btn" data-kpi="mtbf">MTBF</button>
          <button type="button" class="def-btn" data-kpi="mttr">MTTR</button>
          <button type="button" class="def-btn" data-kpi="mttd">MTTD</button>
          <button type="button" class="def-btn" data-kpi="mpmt">MPMT</button>
          <button type="button" class="def-btn" data-kpi="mmt">MMT</button>
          <button type="button" class="def-btn" data-kpi="mcmt">MCMT</button>
          <button type="button" class="def-btn" data-kpi="uptime">Uptime</button>
          <button type="button" class="def-btn" data-kpi="availability">Beschikbaarheid [A]</button>
          <button type="button" class="def-btn" data-kpi="lambda">Failure Rate [Î»]</button>
          <button type="button" class="def-btn" data-kpi="fit">FIT</button>
        </div>
        <div id="def-explanation" class="def-explanation" hidden>
          <div class="def-content"></div>
        </div>
      </div>

      <!-- Interactief Diagram -->
      <div class="diagram-section">
        <div class="diagram-container" id="interactiveDiagram">
          <svg id="mtbfDiagram" width="100%" height="320" viewBox="0 0 1000 320" preserveAspectRatio="xMidYMid meet">
            <!-- Gradients en filters -->
            <defs>
              <linearGradient id="gradMTTD" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#ffbb33;stop-opacity:0.95" />
                <stop offset="100%" style="stop-color:#ff9500;stop-opacity:0.95" />
              </linearGradient>
              <linearGradient id="gradMTTR" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#ff5555;stop-opacity:0.95" />
                <stop offset="100%" style="stop-color:#cc0000;stop-opacity:0.95" />
              </linearGradient>
              <linearGradient id="gradMPMT" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#2A6085;stop-opacity:0.95" />
                <stop offset="100%" style="stop-color:#1a4865;stop-opacity:0.95" />
              </linearGradient>
              <linearGradient id="gradUptime" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#13d17c;stop-opacity:0.95" />
                <stop offset="100%" style="stop-color:#0fa566;stop-opacity:0.95" />
              </linearGradient>
              <linearGradient id="gradMTTF" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#2A6085;stop-opacity:0.95" />
                <stop offset="100%" style="stop-color:#1a4865;stop-opacity:0.95" />
              </linearGradient>
              <filter id="shadow">
                <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.3"/>
              </filter>
            </defs>
            
            <!-- Dynamische content groepen -->
            <g id="mtbfTopLine"></g>
            <g id="mtbfSegments"></g>
            <g id="mcmtBracket"></g>
            <g id="verticalMarkers"></g>
            <g id="bottomLabels"></g>
            <g id="kpiInfoBox"></g>
          </svg>
        </div>
        
        <!-- Statische diagrams (verborgen, voor PDF export) -->
        <div class="diagram-container" id="diagramRepairable" style="display: none;">
          <img src="repareerbaar.jpg" alt="Schema repareerbaar systeem" class="diagram-img"/>
        </div>
        <div class="diagram-container" id="diagramNonRepairable" style="display: none;">
          <img src="nietrepareerbaar.jpg" alt="Schema niet-repareerbaar systeem" class="diagram-img"/>
        </div>
        
        <!-- Logo's voor PDF export (verborgen) -->
        <img src="logo-website.png" alt="Website logo" style="display: none;"/>
        <img src="logo-linkedin.png" alt="LinkedIn logo" style="display: none;"/>
      </div>

      <!-- Type Analyse -->
      <div class="input-section">
        <h2 class="section-title">Type Analyse</h2>
        <div class="analysis-type-toggle">
          <div class="radio-option-wrapper">
            <label class="radio-option">
              <input type="radio" name="analysisType" value="repairable" checked>
              <span class="radio-text">ðŸ”§ Repareerbaar (systemen/machines)</span>
              <button type="button" class="info-icon" data-info="repairable">i</button>
            </label>
            <div class="info-panel" id="info-repairable">
              <div class="info-panel-content">
                Voor systemen die na een storing gerepareerd kunnen worden en weer in gebruik genomen. Denk aan machines, installaties en apparatuur waarbij reparatie mogelijk is.
              </div>
            </div>
          </div>
          
          <div class="radio-option-wrapper">
            <label class="radio-option">
              <input type="radio" name="analysisType" value="non-repairable">
              <span class="radio-text">ðŸ’¡ Niet-repareerbaar (componenten)</span>
              <button type="button" class="info-icon" data-info="non-repairable">i</button>
            </label>
            <div class="info-panel" id="info-non-repairable">
              <div class="info-panel-content">
                Voor componenten die na falen vervangen moeten worden. Denk aan lampjes, zekeringen, batterijen en andere wegwerpcomponenten.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Invoer + Formules naast elkaar -->
      <div class="content-grid">
        <section class="left-column">
          <div class="input-section">
            <h2 class="section-title">Invoervelden</h2>
            
            <form id="kpi-form" autocomplete="off">
              <div class="input-group">
                <label for="totItemsValue">Totale bedrijfstijd van alle items</label>
                <div class="unit-row">
                  <input type="number" id="totItemsValue" value="200000" step="1" min="0"/>
                  <select id="totItemsUnit">
                    <option value="hours" selected>uren</option>
                    <option value="days">dagen</option>
                    <option value="years">jaren</option>
                  </select>
                </div>

                <label for="failures">Aantal faalmomenten</label>
                <input type="number" id="failures" value="10" step="1" min="0"/>

                <label for="totRepairHours" class="repairable-only">Totale reparatietijd (uren)</label>
                <input type="number" id="totRepairHours" value="56" step="0.1" min="0" class="repairable-only"/>

                <label for="totDetectHours" class="repairable-only">Totale detectietijd (uren)</label>
                <input type="number" id="totDetectHours" value="14" step="0.1" min="0" class="repairable-only"/>
                
                <label for="totPMValue">Totale geplande onderhoudstijd</label>
                <div class="unit-row">
                  <input type="number" id="totPMValue" value="30" step="0.1" min="0"/>
                  <select id="totPMUnit">
                    <option value="hours" selected>uren</option>
                    <option value="days">dagen</option>
                    <option value="years">jaren</option>
                  </select>
                </div>
                
                <label for="numPM">Aantal keer PM uitgevoerd</label>
                <input type="number" id="numPM" value="10" step="1" min="1"/>
              </div>

              <div class="button-row">
                <button type="submit" class="green">Bereken</button>
                <button type="reset" class="reset-btn">Reset</button>
              </div>
            </form>
          </div>
        </section>

        <!-- Rechter kolom -->
        <section class="right-column">
          <div class="formulas-section">
            <h2 class="section-title">Berekeningsformules</h2>
            
            <!-- Repareerbaar formules -->
            <div class="formulas" id="formulasRepairable">
              <div class="formula-item">
                <span class="formula-label">MTBF =</span>
                <div class="fraction">
                  <span class="frac-num">[Totale bedrijfstijd items]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal faalmomenten]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">MTTR =</span>
                <div class="fraction">
                  <span class="frac-num">[Totale reparatietijd]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal faalmomenten]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">MTTD =</span>
                <div class="fraction">
                  <span class="frac-num">[Totale detectietijd]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal faalmomenten]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">MPMT =</span>
                <div class="fraction">
                  <span class="frac-num">[Totale PM-tijd]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal keer PM]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">MCMT =</span>
                <span class="formula-simple">MTTR + MTTD</span>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">MMT =</span>
                <div class="fraction">
                  <span class="frac-num">[PM + Detect + Repair tijd]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal keer PM] + [Aantal falen]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">Uptime =</span>
                <span class="formula-simple">MTBF âˆ’ MCMT âˆ’ MPMT</span>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">Beschikbaarheid [A] =</span>
                <div class="fraction">
                  <span class="frac-num">Uptime</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">MTBF</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">Failure rate [Î»] =</span>
                <div class="fraction">
                  <span class="frac-num">1</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">MTBF</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">FIT =</span>
                <div class="fraction">
                  <span class="frac-num">1.000.000.000</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">MTBF</span>
                </div>
              </div>
            </div>
            
            <!-- Niet-repareerbaar formules -->
            <div class="formulas" id="formulasNonRepairable" style="display: none;">
              <div class="formula-item">
                <span class="formula-label">MTTF =</span>
                <div class="fraction">
                  <span class="frac-num">[Totale bedrijfstijd items]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal faalmomenten]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">MPMT =</span>
                <div class="fraction">
                  <span class="frac-num">[Totale PM-tijd]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal keer PM]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">MMT =</span>
                <div class="fraction">
                  <span class="frac-num">[Totale PM-tijd]</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">[Aantal keer PM]</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">Uptime =</span>
                <span class="formula-simple">MTTF âˆ’ MPMT</span>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">Beschikbaarheid [A] =</span>
                <div class="fraction">
                  <span class="frac-num">Uptime</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">MTTF</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">Failure rate [Î»] =</span>
                <div class="fraction">
                  <span class="frac-num">1</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">MTTF</span>
                </div>
              </div>
              
              <div class="formula-item">
                <span class="formula-label">FIT =</span>
                <div class="fraction">
                  <span class="frac-num">1.000.000.000</span>
                  <span class="frac-line"></span>
                  <span class="frac-den">MTTF</span>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- Resultaten -->
      <div class="result-section">
        <h2 class="section-title">Resultaten</h2>
        
        <div class="result-unit-selector">
          <label for="resultUnit">Weergave eenheid:</label>
          <select id="resultUnit">
            <option value="hours" selected>Uren</option>
            <option value="days">Dagen</option>
            <option value="years">Jaren</option>
          </select>
        </div>
        
        <div class="result-grid">
          <!-- Repareerbaar resultaten -->
          <div class="result-row repairable-only">
            <span class="result-label">MTBF:</span>
            <span class="result-value"><span id="outMTBF">â€”</span> <span id="unitMTBF">uur</span></span>
          </div>
          <div class="result-row repairable-only">
            <span class="result-label">MTTR:</span>
            <span class="result-value"><span id="outMTTR">â€”</span> <span id="unitMTTR">uur</span></span>
          </div>
          <div class="result-row repairable-only">
            <span class="result-label">MTTD:</span>
            <span class="result-value"><span id="outMTTD">â€”</span> <span id="unitMTTD">uur</span></span>
          </div>
          <div class="result-row repairable-only">
            <span class="result-label">MCMT:</span>
            <span class="result-value"><span id="outMCMT">â€”</span> <span id="unitMCMT">uur</span></span>
          </div>
          
          <!-- Niet-repareerbaar resultaten -->
          <div class="result-row non-repairable-only" style="display: none;">
            <span class="result-label">MTTF:</span>
            <span class="result-value"><span id="outMTTF">â€”</span> <span id="unitMTTF">uur</span></span>
          </div>
          
          <!-- Gemeenschappelijke resultaten -->
          <div class="result-row">
            <span class="result-label">MPMT:</span>
            <span class="result-value"><span id="outMPMT">â€”</span> <span id="unitMPMT">uur</span></span>
          </div>
          <div class="result-row">
            <span class="result-label">MMT:</span>
            <span class="result-value"><span id="outMMT">â€”</span> <span id="unitMMT">uur</span></span>
          </div>
          <div class="result-row">
            <span class="result-label">Uptime:</span>
            <span class="result-value"><span id="outUptime">â€”</span> <span id="unitUptime">uur</span></span>
          </div>
          <div class="result-row">
            <span class="result-label">Beschikbaarheid [A]:</span>
            <span class="result-value" id="outA">â€”</span>
          </div>
          <div class="result-row">
            <span class="result-label">Failure Rate [Î»]:</span>
            <span class="result-value"><span id="outLambda">â€”</span> per uur</span>
          </div>
          <div class="result-row">
            <span class="result-label">FIT:</span>
            <span class="result-value"><span id="outFIT">â€”</span> per 10<sup>9</sup> uur</span>
          </div>
        </div>
        
        <button type="button" class="export-btn" id="exportPDF">ðŸ“„ Exporteer PDF</button>
      </div>
    </div>
  </div>

  <!-- jsPDF libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
